<?xml version="1.0" encoding="UTF-8"?>
<faces-config version="4.0" xmlns="https://jakarta.ee/xml/ns/jakartaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-facesconfig_4_0.xsd">

    <!-- Navigation Rules -->
    <navigation-rule>
        <from-view-id>/index.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>products</from-outcome>
            <to-view-id>/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>login</from-outcome>
            <to-view-id>/login.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>register</from-outcome>
            <to-view-id>/register.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>cart</from-outcome>
            <to-view-id>/cart.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>about</from-outcome>
            <to-view-id>/about.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>contact</from-outcome>
            <to-view-id>/contact.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/login.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>register</from-outcome>
            <to-view-id>/register.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/register.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/login.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>login</from-outcome>
            <to-view-id>/login.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>register</from-outcome>
            <to-view-id>/register.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/products.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>product-detail</from-outcome>
            <to-view-id>/product-detail.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>cart</from-outcome>
            <to-view-id>/cart.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/product-detail.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>products</from-outcome>
            <to-view-id>/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>cart</from-outcome>
            <to-view-id>/cart.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

        <navigation-rule>
            <from-view-id>/cart.xhtml</from-view-id>
            <navigation-case>
                <from-outcome>checkout</from-outcome>
                <to-view-id>/checkout.xhtml</to-view-id>
                <redirect/>
            </navigation-case>
        <navigation-case>
            <from-outcome>orders</from-outcome>
            <to-view-id>/order-success.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>products</from-outcome>
            <to-view-id>/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>index</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <!-- Navigation rule for checkout.xhtml -->
    <navigation-rule>
        <from-view-id>/checkout.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>order-success</from-outcome>
            <to-view-id>/order-success.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>cart</from-outcome>
            <to-view-id>/cart.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <!-- Admin Navigation -->
    <navigation-rule>
        <from-view-id>/admin/index.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/products</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/categories</from-outcome>
            <to-view-id>/admin/categories.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/users</from-outcome>
            <to-view-id>/admin/users.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/orders</from-outcome>
            <to-view-id>/admin/orders.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/suppliers</from-outcome>
            <to-view-id>/admin/suppliers.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/vouchers</from-outcome>
            <to-view-id>/admin/vouchers.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/reports</from-outcome>
            <to-view-id>/admin/reports.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/profile</from-outcome>
            <to-view-id>/admin/profile.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/settings</from-outcome>
            <to-view-id>/admin/settings.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>index</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/admin/products.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/products</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>product-edit</from-outcome>
            <to-view-id>/admin/product-edit.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/admin/product-edit.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>success</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <!-- Additional Admin Navigation Rules -->
    <navigation-rule>
        <from-view-id>/admin/users.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/users</from-outcome>
            <to-view-id>/admin/users.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-user</from-outcome>
            <to-view-id>/edit-user.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>
    
    <navigation-rule>
        <from-view-id>/admin/categories.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/categories</from-outcome>
            <to-view-id>/admin/categories.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-category</from-outcome>
            <to-view-id>/edit-category.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <navigation-rule>
        <from-view-id>/admin/orders.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/orders</from-outcome>
            <to-view-id>/admin/orders.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <!-- Global Admin Navigation -->
    <navigation-rule>
        <from-view-id>/admin/*</from-view-id>
        <navigation-case>
            <from-outcome>admin/index</from-outcome>
            <to-view-id>/admin/index.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/products</from-outcome>
            <to-view-id>/admin/products.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/categories</from-outcome>
            <to-view-id>/admin/categories.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/users</from-outcome>
            <to-view-id>/admin/users.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/orders</from-outcome>
            <to-view-id>/admin/orders.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/suppliers</from-outcome>
            <to-view-id>/admin/suppliers.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/vouchers</from-outcome>
            <to-view-id>/admin/vouchers.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/reports</from-outcome>
            <to-view-id>/admin/reports.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/profile</from-outcome>
            <to-view-id>/admin/profile.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/settings</from-outcome>
            <to-view-id>/admin/settings.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>index</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-user</from-outcome>
            <to-view-id>/edit-user.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

    <!-- User Management Navigation -->
    <navigation-rule>
        <from-view-id>/user-management.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>edit-user</from-outcome>
            <to-view-id>/edit-user.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>user-management</from-outcome>
            <to-view-id>/user-management.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    
    <navigation-rule>
        <from-view-id>/edit-user-demo.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>edit-user</from-outcome>
            <to-view-id>/edit-user.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-user-demo</from-outcome>
            <to-view-id>/edit-user-demo.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    
    <navigation-rule>
        <from-view-id>/edit-user.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>user-management</from-outcome>
            <to-view-id>/user-management.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>admin/users</from-outcome>
            <to-view-id>/admin/users.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-user-demo</from-outcome>
            <to-view-id>/edit-user-demo.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>
    
    <navigation-rule>
        <from-view-id>/edit-category.xhtml</from-view-id>
        <navigation-case>
            <from-outcome>admin/categories</from-outcome>
            <to-view-id>/admin/categories.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-category</from-outcome>
            <to-view-id>/edit-category.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>

    <!-- Global Logout Navigation -->
    <navigation-rule>
        <from-view-id>/*</from-view-id>
        <navigation-case>
            <from-outcome>logout</from-outcome>
            <to-view-id>/logout.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-user</from-outcome>
            <to-view-id>/edit-user.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
        <navigation-case>
            <from-outcome>edit-category</from-outcome>
            <to-view-id>/edit-category.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>

</faces-config>
